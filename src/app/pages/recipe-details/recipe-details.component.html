<div class="min-h-screen">
  <app-container class="flex z-10 relative mt-16">
    <div *ngIf="!loading && recipe;" class="text-preset-7 flex gap-2 mb-4">
      <a [routerLink]="['/recipes']" class="text-neutral-600 hover:text-neutral-900 transition">
        Recipes
      </a>
      <span>/</span>
      <span>{{ recipe.title }}</span>
    </div>

    <div *ngIf="loading" class="p-4">
      Loading...
    </div>

    <div *ngIf="!loading && recipe; else noData" class="flex flex-col lg:flex-row gap-10 flex-wrap">
      <div class="flex-1 lg:flex-[0_0_50%]">
        <img
          [ngSrc]="recipe.image.large"
          [alt]="recipe.title"
          fill
          sizes="(max-width: 1024px) 100vw, 50vw"
          class="!relative w-full h-auto rounded-xl object-cover"
          priority
        />
      </div>
      <div class="flex-1 lg:flex-[0_0_50]">
        <h1 class="text-preset-2 mb-5">{{ recipe.title }}</h1>
        <p class="text-preset-6 mb-5">{{ recipe.overview }}</p>

        <app-recipe-times [recipe]="recipe" />

        <div class="mt-5">
          <h3 class="text-preset-4 mb-4">Ingredients</h3>
          <ul>
            <li *ngFor="let ingredient of recipe.ingredients; let last = last;"
                [ngClass]="{'mb-2': !last}"
                class="flex gap-6"
            >
            <span class="pt-1.5">
              <svg width="24" height="16" viewBox="0 0 24 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path opacity="0.4" d="M6.93664 9.58707L2.00434 10.0233C0.897444 10.0233 0 9.11709 0 7.99941C0 6.88173 0.897444 5.97554 2.00434 5.97554L6.93664 6.41175C7.805 6.41175 8.50899 7.1226 8.50899 7.99941C8.50899 8.87769 7.805 9.58707 6.93664 9.58707Z" fill="#163A34"/>
                <path d="M23.4996 9.50688C23.4225 9.58472 23.1345 9.91371 22.864 10.1869C21.2858 11.8979 17.1651 14.6958 15.0095 15.552C14.6822 15.6886 13.8546 15.9794 13.411 16C12.9877 16 12.5834 15.9016 12.1979 15.7077C11.7165 15.436 11.3325 15.0072 11.1201 14.5019C10.9848 14.1524 10.7725 13.1023 10.7725 13.0832C10.5616 11.9361 10.4467 10.0709 10.4467 8.00881C10.4467 6.04663 10.5616 4.25776 10.7347 3.09161C10.7536 3.07105 10.9659 1.76831 11.1972 1.32183C11.6205 0.505232 12.4481 0 13.3339 0H13.411C13.9884 0.0190926 15.2015 0.525794 15.2015 0.543419C17.2422 1.39967 21.2654 4.06242 22.8829 5.8322C22.8829 5.8322 23.3396 6.2875 23.5374 6.57096C23.8458 6.97925 23.9999 7.48449 23.9999 7.98972C23.9999 8.5537 23.8269 9.07802 23.4996 9.50688Z" fill="#163A34"/>
              </svg>
            </span>
              <p class="text-preset-6">
                {{ ingredient }}
              </p>
            </li>
          </ul>
        </div>

        <div class="mt-5">
          <h3 class="text-preset-4 mb-4">Instructions</h3>
          <ul>
            <li *ngFor="let instruction of recipe.instructions; let last = last;"
                [ngClass]="{'mb-2': !last}"
                class="flex gap-6"
            >
            <span class="pt-1.5">
              <svg width="24" height="16" viewBox="0 0 24 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path opacity="0.4" d="M6.93664 9.58707L2.00434 10.0233C0.897444 10.0233 0 9.11709 0 7.99941C0 6.88173 0.897444 5.97554 2.00434 5.97554L6.93664 6.41175C7.805 6.41175 8.50899 7.1226 8.50899 7.99941C8.50899 8.87769 7.805 9.58707 6.93664 9.58707Z" fill="#163A34"/>
                <path d="M23.4996 9.50688C23.4225 9.58472 23.1345 9.91371 22.864 10.1869C21.2858 11.8979 17.1651 14.6958 15.0095 15.552C14.6822 15.6886 13.8546 15.9794 13.411 16C12.9877 16 12.5834 15.9016 12.1979 15.7077C11.7165 15.436 11.3325 15.0072 11.1201 14.5019C10.9848 14.1524 10.7725 13.1023 10.7725 13.0832C10.5616 11.9361 10.4467 10.0709 10.4467 8.00881C10.4467 6.04663 10.5616 4.25776 10.7347 3.09161C10.7536 3.07105 10.9659 1.76831 11.1972 1.32183C11.6205 0.505232 12.4481 0 13.3339 0H13.411C13.9884 0.0190926 15.2015 0.525794 15.2015 0.543419C17.2422 1.39967 21.2654 4.06242 22.8829 5.8322C22.8829 5.8322 23.3396 6.2875 23.5374 6.57096C23.8458 6.97925 23.9999 7.48449 23.9999 7.98972C23.9999 8.5537 23.8269 9.07802 23.4996 9.50688Z" fill="#163A34"/>
              </svg>
            </span>
              <p class="text-preset-6">
                {{ instruction }}
              </p>
            </li>
          </ul>
        </div>
      </div>

    </div>

    <ng-template #noData>
      {{ error }}
    </ng-template>

  </app-container>

  <app-more-recipes [ignoredRecipeIds]="[recipeId]" />
</div>
